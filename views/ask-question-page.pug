extends layout.pug

include utils.pug

append head
  //- add page specific styles by appending to the head
  link(rel="stylesheet" href="/stylesheets/index.css")
  //- add page specific js
  script(src="/javascripts/index.js" type="module" defer)

block content
  if locals.authenticated
    +validationErrorSummary(errors)
    form(action='/ask-question' method='post')
      input(type='hidden' name='_csrf' value=csrfToken)
      +field('Title', 'title', 'ex: Is this pterodactyl safe to eat?', 'text', null, 'question_title')
      +field('Content', 'content', 'ex: I found this dead in the woods but it looks bony, I am hungry.', 'textarea', 'question_content')
      div
        button(type='submit') Ask a Question
        a(href='/') Cancel
  else
    div.login_alert
      h1 You must be logged in to ask a question on DinoFlow
        p #[a(href='/login') Log in] or #[a(href='/register') sign up]
