extends layout.pug

include utils.pug

append head
  //- add page specific styles by appending to the head
  link(rel="stylesheet" href="/stylesheets/question-page.css")
  //- add page specific js
  script(src="/javascripts/questions.js" type="module" defer)

append questionButton
   div#ask-question-container
          a#ask-question-button(href='/ask-question') Ask Question

block content
  div(class="container")
    div(class="page_content")
      div(class="question_content")
        h1(id="title")= question.title
        hr
        p= question.content
          //- p
      h2 Answers
      each answer in answers
        div(class="answers_section")
          div(class="votes")
            button#upVote(class="button_votes" data-answerid=answer.id)
              svg(width="36" height="36" viewBox="0 0 36 36")
                path(d="M2 26h32L18 10 2 26z")
            span(class='vote_count') #{answer.dataValues.Votes}
            button#downVote(class="button_votes" data-ansid=answer.id)
              svg(width="36" height="36" viewBox="0 0 36 36")
                path(d="M2 10h32L18 26 2 10z")
          div(class="single_answers") #{answer.dataValues.content} Answer  
      if locals.authenticated
        +validationErrorSummary(errors)
        h2 Your Answer
        form(id='answer_to_question')
          input(type='hidden' name='_csrf' value=csrfToken)
          input(type='hidden' name='questionId' value=question.id)
          +field('', 'answer', answer, 'textarea', 'Write your answer here', id)
          div
            button(type='submit' id="answer_button") Answer this Question
            a(href='/') Cancel

//- Should the field value be answer?
